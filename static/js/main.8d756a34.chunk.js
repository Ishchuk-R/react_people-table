(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{24:function(e,t,a){e.exports=a(36)},30:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),m=a(6),o=a(16),u=a(22),s=a(1),i=a(13),p=a.n(i),h=a(20),f=function(){var e=Object(h.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/react_people-table/api/people.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=(a(30),function(){return r.a.createElement("h1",null,"Welcome Home")}),b=function(){var e=Object(s.g)(),t=Object(s.h)(),a=new URLSearchParams(t.search),n=a.get("query")||"";return r.a.createElement("header",{className:"navbar bg-secondary"},r.a.createElement("div",{className:"container"},r.a.createElement("nav",null,r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.c,{exact:!0,to:"/"},"Home page")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.c,{to:"/people"},"People page")))),r.a.createElement(s.b,{path:"/people"},r.a.createElement("input",{placeholder:"Search",value:n,onChange:function(t){a.set("query",t.target.value),e.push({search:a.toString()})},type:"text"}))))},d=a(23),g=a(11),N=a.n(g),v=function(e){var t=e.name,a=e.slug,n=e.sex;return r.a.createElement(m.b,{className:N()("".concat(a),{male:"m"===n},{female:"f"===n}),to:"/people/".concat(a)},t)},x=function(e){var t=e.person,a=e.personName,n=t.name,c=t.id,l=t.sex,m=t.born,o=t.died,u=t.motherName,s=t.mother,i=t.father,p=t.fatherName,h=t.slug;return r.a.createElement("tr",{className:N()("person",{active:a===h})},r.a.createElement("th",null,c),r.a.createElement("th",null,r.a.createElement(v,{sex:l,name:n,slug:h})),r.a.createElement("th",null,l),r.a.createElement("th",null,m),r.a.createElement("th",null,o),r.a.createElement("th",null,s?r.a.createElement(v,{sex:"f",name:u,slug:s.slug}):r.a.createElement("span",null,u)),r.a.createElement("th",null,i?r.a.createElement(v,{sex:"m",name:p,slug:i.slug}):r.a.createElement("span",null,p)))},j=[{name:"Id",sort:"id"},{name:"Name",sort:"name"},{name:"Sex",sort:"sex"},{name:"Born",sort:"born"},{name:"Died",sort:"died"},{name:"Mother"},{name:"Father"}],y=function(e){var t=e.people,a=Object(s.i)(),c=Object(s.h)(),l=Object(s.g)(),m=a.params.personName,o=new URLSearchParams(c.search),u=o.get("query")||"",i=o.get("sortBy")||"",p=function(e){switch(e){case"name":return function(e,t){return e.name.localeCompare(t.name)};case"id":return function(e,t){return e.id-t.id};case"sex":return function(e,t){return e.sex.localeCompare(t.sex)};case"born":return function(e,t){return e.born-t.born};default:return function(e,t){return e.died-t.died}}},h=Object(n.useMemo)((function(){return Object(d.a)(function(e,t){var a=new RegExp(t,"i");return e.filter((function(e){return console.log(e.motherName),console.log(a.test(e.motherName)),a.test(e.name+e.motherName+e.fatherName)}))}(t,u)).sort(p(i))}),[u,i,t]);return r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"table-primary"},j.map((function(e){return r.a.createElement("th",{key:e.name+Math.random,onClick:function(){var t;(t=e.sort||"")&&(o.set("sortBy",t),l.push({search:o.toString()}),p(t))}},e.name,i===e.sort&&"*")})))),r.a.createElement("tbody",null,h.map((function(e){return r.a.createElement(x,{personName:m,person:e,key:e.slug})}))))},O=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],l=1;return Object(n.useEffect)((function(){f().then((function(e){return c(e.map((function(t){return Object(o.a)(Object(o.a)({},t),{},{id:l++,father:e.find((function(e){return e.name===t.fatherName})),mother:e.find((function(e){return e.name===t.motherName}))})})))}))}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(b,null),r.a.createElement("div",{className:"container content-container"},r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:E}),r.a.createElement(s.b,{path:"/people/:personName?",render:function(){return r.a.createElement(y,{people:a})}}),r.a.createElement(s.a,{from:"/home",to:"/"}),r.a.createElement(s.b,null,r.a.createElement("h1",null,"Page not found")))))};l.a.render(r.a.createElement(m.a,null,r.a.createElement(O,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.8d756a34.chunk.js.map