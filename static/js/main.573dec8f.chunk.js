(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{26:function(e,t,a){e.exports=a(37)},32:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),m=a(6),o=a(17),u=a(12),s=a(1),i=a(14),p=a.n(i),h=a(22),f=function(){var e=Object(h.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/react_people-table/api/people.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=(a(32),function(){return r.a.createElement("h1",null,"Welcome Home")}),b=a(23),d=a.n(b),v=function(){var e=Object(s.g)(),t=Object(s.h)(),a=new URLSearchParams(t.search),c=Object(n.useState)(a.get("query")||""),l=Object(u.a)(c,2),o=l[0],i=l[1],p=Object(n.useCallback)(d()((function(t){t?a.set("query",t):a.delete("query"),e.push({search:a.toString()})}),1e3),[]);return r.a.createElement("header",{className:"navbar bg-secondary"},r.a.createElement("div",{className:"container"},r.a.createElement("nav",null,r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.c,{exact:!0,to:"/"},"Home page")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(m.c,{to:"/people"},"People page")))),r.a.createElement(s.b,{path:"/people"},r.a.createElement("input",{placeholder:"Search",value:o,onChange:function(e){var t=e.target;i(t.value),p(t.value)},type:"text"}))))},g=a(25),N=a(11),j=a.n(N),O=function(e){var t=e.name,a=e.slug,n=e.sex,c=Object(s.h)(),l=new URLSearchParams(c.search).toString()||"";return r.a.createElement(m.b,{className:j()("".concat(a),{male:"m"===n},{female:"f"===n}),to:"/people/".concat(a,"?").concat(l)},t)},x=function(e){var t=e.person,a=e.personName,n=t.name,c=t.id,l=t.sex,m=t.born,o=t.died,u=t.motherName,s=t.mother,i=t.father,p=t.fatherName,h=t.slug;return r.a.createElement("tr",{className:j()("person",{active:a===h})},r.a.createElement("th",null,c),r.a.createElement("th",null,r.a.createElement(O,{sex:l,name:n,slug:h})),r.a.createElement("th",null,l),r.a.createElement("th",null,m),r.a.createElement("th",null,o),r.a.createElement("th",null,s?r.a.createElement(O,{sex:"f",name:u,slug:s.slug}):r.a.createElement("span",null,u)),r.a.createElement("th",null,i?r.a.createElement(O,{sex:"m",name:p,slug:i.slug}):r.a.createElement("span",null,p)))},y=[{name:"Id",sort:"id"},{name:"Name",sort:"name"},{name:"Sex",sort:"sex"},{name:"Born",sort:"born"},{name:"Died",sort:"died"},{name:"Mother"},{name:"Father"}],S=function(e){var t=e.people,a=Object(s.i)(),c=Object(s.h)(),l=Object(s.g)(),m=a.params.personName,o=new URLSearchParams(c.search),u=o.get("query")||"",i=o.get("sortBy")||"",p="desc"!==o.get("sortOrder"),h=function(e){switch(e){case"name":return function(e,t){return e.name.localeCompare(t.name)};case"id":return function(e,t){return e.id-t.id};case"sex":return function(e,t){return e.sex.localeCompare(t.sex)};case"born":return function(e,t){return e.born-t.born};default:return function(e,t){return e.died-t.died}}},f=Object(n.useMemo)((function(){var e=Object(g.a)(function(e,t){var a=new RegExp(t,"i");return e.filter((function(e){return a.test(e.name+e.motherName+e.fatherName)}))}(t,u)).sort(h(i));return p?e:e.reverse()}),[u,i,p,t]);return r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"table-primary"},y.map((function(e){return r.a.createElement("th",{key:e.name+Math.random,onClick:function(){var t;t=e.sort||"",o.set("sortOrder",p?"desc":"ask"),t&&(o.set("sortBy",t),l.push({search:o.toString()}),h(t))}},e.name,i===e.sort&&(p?" \u21d1":" \u21d3"))})))),r.a.createElement("tbody",null,f.map((function(e){return r.a.createElement(x,{personName:m,person:e,key:e.slug})}))))},w=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){f().then((function(e){var t=0;return c(e.map((function(a){return t+=1,Object(o.a)(Object(o.a)({},a),{},{id:t,father:e.find((function(e){return e.name===a.fatherName})),mother:e.find((function(e){return e.name===a.motherName}))})})))}))}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(v,null),r.a.createElement("div",{className:"container content-container"},r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:E}),r.a.createElement(s.b,{path:"/people/:personName?",render:function(){return r.a.createElement(S,{people:a})}}),r.a.createElement(s.a,{from:"/home",to:"/"}),r.a.createElement(s.b,null,r.a.createElement("h1",null,"Page not found")))))};l.a.render(r.a.createElement(m.a,null,r.a.createElement(w,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.573dec8f.chunk.js.map